(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(17)},,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),c=n.n(o),i=(n(12),n(1)),u=(n(13),n(2)),l=n.n(u),s=n(3);function m(){var e=document.querySelector("summary img.avatar");return e?{id:(e.getAttribute("alt")||"").substring(1),avatar:e.getAttribute("src")}:null}function f(){return(f=Object(s.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){chrome.storage.sync.get(["github_token","github_id","github_avatar"],function(t){if(t.github_token)e({token:t.github_token||null,id:t.github_id||null,avatar:t.github_avatar||null});else{var n=m();e({token:null,id:n?n.id:null,avatar:n?n.avatar:null})}})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var p="https://us-central1-git-meme-prod.cloudfunctions.net/api";n(15),n(16);function d(e){var t=Object(a.useState)(-1),n=Object(i.a)(t,2),o=n[0],c=n[1];function u(e){var t=e.target,n=parseInt(t.getAttribute("data-idx")||"-1",0);t.setSelectionRange(0,t.value.length),document.execCommand("copy"),t.setSelectionRange(0,0),t.blur(),c(n),e.preventDefault()}return r.a.createElement("div",{className:"ListWithBadges"},r.a.createElement("h2",null,e.label),r.a.createElement("ul",{className:"list-group"},e.items.map(function(e,t){return r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center",key:t},r.a.createElement("input",{type:"text","data-idx":t,value:"/".concat(e.token),onClick:u}),o===t?r.a.createElement("span",{className:"copiedText"},"Copied!"):null,r.a.createElement("span",{className:"badge badge-primary badge-pill"},e.count))})))}function b(e){var t=Object(a.useState)({user:[],global:[]}),n=Object(i.a)(t,2),o=n[0],c=n[1],u=Object(a.useState)(""),l=Object(i.a)(u,2),s=l[0],m=l[1];return Object(a.useEffect)(function(){fetch(p+"/top_tokens").then(function(e){if(e.ok)return e.json();throw new Error("Failed to fetch top tokens")}).then(function(e){c(e)}).catch(function(e){m(e.message)})},[]),r.a.createElement("div",{className:"TopTokensList"},s?r.a.createElement("div",null,"Error"):r.a.createElement(d,{label:"Top Tokens",items:o.global}))}var g=function(){var e=Object(a.useState)({token:"",id:"",avatar:""}),t=Object(i.a)(e,2),n=(t[0],t[1]);return Object(a.useEffect)(function(){(function(){return f.apply(this,arguments)})().then(function(e){console.log("Popup got Github Info",e),n(e)})},[]),r.a.createElement("span",null,r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[6,1,2]]]);
//# sourceMappingURL=main.24dc8810.chunk.js.map