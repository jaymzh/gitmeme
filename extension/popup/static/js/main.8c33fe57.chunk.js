(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(t,e,n){},13:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(5),u=n.n(r),c=(n(12),n(2)),i=(n(13),n(1)),l=n.n(i),s=n(3);function f(){var t=document.querySelector("summary img.avatar");return t?{id:(t.getAttribute("alt")||"").substring(1),avatar:t.getAttribute("src")}:null}function h(){return(h=Object(s.a)(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){chrome.storage.sync.get(["github_token","github_id","github_avatar"],function(e){if(e.github_token)t({token:e.github_token||null,id:e.github_id||null,avatar:e.github_avatar||null});else{var n=f();t({token:null,id:n?n.id:null,avatar:n?n.avatar:null})}})}));case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}var m="https://us-central1-git-meme-prod.cloudfunctions.net/api";function p(t){var e=Object(a.useState)({user:[],global:[]}),n=Object(c.a)(e,2),r=n[0],u=n[1],i=Object(a.useState)(""),l=Object(c.a)(i,2),s=(l[0],l[1]);return Object(a.useEffect)(function(){fetch(m+"/top_tokens").then(function(t){if(t.ok)return t.json();throw new Error("Failed to fetch top tokens")}).then(function(t){u(t)}).catch(function(t){s(t.message)})},[]),o.a.createElement("div",{className:"TopTokensList"},o.a.createElement("h2",null,"Top Tokens"),r.global.map(function(t){return o.a.createElement("div",null,t.token,o.a.createElement("span",{className:"tokenCount"},t.count))}))}var b=function(){var t=Object(a.useState)({token:"",id:"",avatar:""}),e=Object(c.a)(t,2),n=(e[0],e[1]);return Object(a.useEffect)(function(){(function(){return h.apply(this,arguments)})().then(function(t){console.log("Popup got Github Info",t),n(t)})},[]),o.a.createElement("span",null,o.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(o.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},6:function(t,e,n){t.exports=n(15)}},[[6,1,2]]]);
//# sourceMappingURL=main.8c33fe57.chunk.js.map